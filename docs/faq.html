

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Frequently Asked Questions (FAQ) &mdash; Rally 2.0.4.dev0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Migration Guide" href="migrate.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Rally
          

          
          </a>

          
            
            
              <div class="version">
                2.0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started with Rally</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Running Rally with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="race.html">Run a Benchmark: Races</a></li>
<li class="toctree-l1"><a class="reference internal" href="tournament.html">Compare Results: Tournaments</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster_management.html">Setting up a Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">Tips and Tricks</a></li>
</ul>
<p class="caption"><span class="caption-text">Extending Rally</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="adding_tracks.html">Define Custom Workloads: Tracks</a></li>
<li class="toctree-l1"><a class="reference internal" href="developing.html">Developing Rally</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Elasticsearch Version Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_line_reference.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="offline.html">Offline Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="track.html">Track Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="car.html">Configure Elasticsearch: Cars</a></li>
<li class="toctree-l1"><a class="reference internal" href="elasticsearch_plugins.html">Using Elasticsearch Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html">Telemetry Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="rally_daemon.html">Rally Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="summary_report.html">Summary Report</a></li>
</ul>
<p class="caption"><span class="caption-text">Additional Information</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="migrate.html">Migration Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions (FAQ)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#a-benchmark-aborts-with-couldn-t-find-a-tar-gz-distribution-what-s-the-problem">A benchmark aborts with <code class="docutils literal notranslate"><span class="pre">Couldn't</span> <span class="pre">find</span> <span class="pre">a</span> <span class="pre">tar.gz</span> <span class="pre">distribution</span></code>. What’s the problem?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-does-rally-get-the-benchmark-data-from">Where does Rally get the benchmark data from?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#will-rally-destroy-my-existing-indices">Will Rally destroy my existing indices?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-do-latency-and-service-time-mean-and-how-do-they-relate-to-the-took-field-that-elasticsearch-returns">What do <cite>latency</cite> and <cite>service_time</cite> mean and how do they relate to the <cite>took</cite> field that Elasticsearch returns?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-and-how-long-does-rally-keep-its-data">Where and how long does Rally keep its data?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#does-rally-spy-on-me">Does Rally spy on me?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#do-i-need-an-internet-connection">Do I need an Internet connection?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community Resources</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rally</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          
















<div role="navigation" aria-label="breadcrumbs navigation">

    <ul class="wy-breadcrumbs">
        
        <li><a href="index.html">Docs</a> &raquo;</li>
        
        <li>Frequently Asked Questions (FAQ)</li>
        
        
        <li class="wy-breadcrumbs-aside">
            
            
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
            
            
        </li>
        
    </ul>

    
    <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="frequently-asked-questions-faq">
<h1>Frequently Asked Questions (FAQ)<a class="headerlink" href="#frequently-asked-questions-faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="a-benchmark-aborts-with-couldn-t-find-a-tar-gz-distribution-what-s-the-problem">
<h2>A benchmark aborts with <code class="docutils literal notranslate"><span class="pre">Couldn't</span> <span class="pre">find</span> <span class="pre">a</span> <span class="pre">tar.gz</span> <span class="pre">distribution</span></code>. What’s the problem?<a class="headerlink" href="#a-benchmark-aborts-with-couldn-t-find-a-tar-gz-distribution-what-s-the-problem" title="Permalink to this headline">¶</a></h2>
<p>This error occurs when Rally cannot build an Elasticsearch distribution from source code. The most likely cause is that there is some problem building the Elasticsearch distribution.</p>
<p>To see what’s the problem, try building Elasticsearch yourself. First, find out where the source code is located (run <code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">src</span> <span class="pre">~/.rally/rally.ini</span></code>). Then change to the directory (<code class="docutils literal notranslate"><span class="pre">src.root.dir</span></code> + <code class="docutils literal notranslate"><span class="pre">elasticsearch.src.subdir</span></code> which is usually <code class="docutils literal notranslate"><span class="pre">~/.rally/benchmarks/src/elasticsearch</span></code>) and run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">gradlew</span> <span class="n">clean</span>
<span class="o">./</span><span class="n">gradlew</span> <span class="p">:</span><span class="n">distribution</span><span class="p">:</span><span class="n">tar</span><span class="p">:</span><span class="n">assemble</span>
</pre></div>
</div>
<p>By that you are mimicking what Rally does. Fix any errors that show up here and then retry.</p>
</div>
<div class="section" id="where-does-rally-get-the-benchmark-data-from">
<h2>Where does Rally get the benchmark data from?<a class="headerlink" href="#where-does-rally-get-the-benchmark-data-from" title="Permalink to this headline">¶</a></h2>
<p>Rally comes with a set of tracks out of the box which we maintain in the <a class="reference external" href="https://github.com/elastic/rally-tracks">rally-tracks repository on Github</a>. This repository contains the track descriptions. The actual data are stored as compressed files in an S3 bucket.</p>
</div>
<div class="section" id="will-rally-destroy-my-existing-indices">
<h2>Will Rally destroy my existing indices?<a class="headerlink" href="#will-rally-destroy-my-existing-indices" title="Permalink to this headline">¶</a></h2>
<p>First of all: Please (please, please) do NOT run Rally against your production cluster if you are just getting started with it. You have been warned.</p>
<p>Depending on the track, Rally will delete and create one or more indices. For example, the <a class="reference external" href="https://github.com/elastic/rally-tracks/blob/master/geonames/track.json#L9">geonames track</a> specifies that Rally should create an index named “geonames” and Rally will assume it can do to this index whatever it wants. Specifically, Rally will check at the beginning of a race if the index “geonames” exists and delete it. After that it creates a new empty “geonames” index and runs the benchmark. So if you benchmark against your own cluster (by specifying the <code class="docutils literal notranslate"><span class="pre">benchmark-only</span></code> <a class="reference internal" href="pipelines.html"><span class="doc">pipeline</span></a>) and this cluster contains an index that is called “geonames” you will lose (all) data if you run Rally against it. Rally will neither read nor write (or delete) any other index. So if you apply the usual care nothing bad can happen.</p>
</div>
<div class="section" id="what-do-latency-and-service-time-mean-and-how-do-they-relate-to-the-took-field-that-elasticsearch-returns">
<h2>What do <cite>latency</cite> and <cite>service_time</cite> mean and how do they relate to the <cite>took</cite> field that Elasticsearch returns?<a class="headerlink" href="#what-do-latency-and-service-time-mean-and-how-do-they-relate-to-the-took-field-that-elasticsearch-returns" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">took</span></code> field is included by Elasticsearch in responses to searches and
bulk indexing and reports the time that Elasticsearch spent processing the
request. This value is measured on the server so it includes neither the time
it took for the request to get from the client to Elasticsearch nor the time it
took for the response to arrive back at the client. In contrast,
<code class="docutils literal notranslate"><span class="pre">service_time</span></code> is measured by Rally as the length of time from when it
started to send the request to Elasticsearch until it finishing receiving the
response. Therefore <code class="docutils literal notranslate"><span class="pre">service_time</span></code> does include the time spent sending the
request and receiving the response.</p>
<p>The explanation of <code class="docutils literal notranslate"><span class="pre">latency</span></code> depends on your choice of benchmarking mode:</p>
<ul class="simple">
<li><p><strong>Throughput benchmarking mode</strong>: In this mode, Rally will issue requests as
fast as it can: as soon as it receives a response to one request it will
generate and send the next request. In this mode <code class="docutils literal notranslate"><span class="pre">latency</span></code> and
<code class="docutils literal notranslate"><span class="pre">service_time</span></code> are identical.</p></li>
<li><p><strong>Throughput-throttled mode</strong>: You may prefer to run benchmarks that better
simulate the traffic patterns you experience in your production environment.
If you define a <a class="reference internal" href="track.html#track-choose-schedule"><span class="std std-ref">schedule</span></a> (e.g. a target
throughput) then Rally runs in throughput-throttled mode and generates
requests according to this schedule regardless of how fast Elasticsearch can
respond. In this mode the generated requests are first placed in a queue
within Rally and may stay there for some time. <code class="docutils literal notranslate"><span class="pre">latency</span></code> includes the time
spent in this queue whereas <code class="docutils literal notranslate"><span class="pre">service_time</span></code> does not: <code class="docutils literal notranslate"><span class="pre">latency</span></code> measures
the time from generating the request until the response is received whereas
<code class="docutils literal notranslate"><span class="pre">service_time</span></code> measures the time from sending the request to Elasticsearch
until a response is received.</p></li>
</ul>
<p>If you are interested in latency measurement, we recommend you watch the following talks:</p>
<p>“How NOT to Measure Latency” by Gil Tene:</p>
<iframe width="640" height="360" src="https://www.youtube.com/embed/lJ8ydIuPFeU" frameborder="0" allowfullscreen></iframe><p>Benchmarking Elasticsearch with Rally by Daniel Mitterdorfer:</p>
<iframe width="640" height="360" src="https://www.youtube.com/embed/HriBY2zoChw?start=2154" frameborder="0" allowfullscreen></iframe></div>
<div class="section" id="where-and-how-long-does-rally-keep-its-data">
<h2>Where and how long does Rally keep its data?<a class="headerlink" href="#where-and-how-long-does-rally-keep-its-data" title="Permalink to this headline">¶</a></h2>
<p>Rally stores a lot of data (this is just the nature of a benchmark) so you should keep an eye on disk usage. All data are kept in <code class="docutils literal notranslate"><span class="pre">~/.rally</span></code> and Rally does not implicitly delete them. These are the most important directories:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~/.rally/logs</span></code>: Contains all log files. Logs are rotated daily. If you don’t need the logs anymore, you can safely wipe this directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.rally/benchmarks/races</span></code>: telemetry data, Elasticsearch logs and even complete Elasticsearch installations including the data directory if a benchmark failed. If you don’t need the data anymore, you can safely wipe this directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.rally/benchmarks/src</span></code>: the Elasticsearch Github repository (only if you had Rally build Elasticsearch from sources at least once).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.rally/benchmarks/data</span></code>: the benchmark data sets. This directory can get very huge (way more than 100 GB if you want to try all default tracks). You can delete the files in this directory but keep in mind that Rally may needs to download them again.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.rally/benchmarks/distributions</span></code>: Contains all downloaded Elasticsearch distributions.</p></li>
</ul>
<p>There are a few more directories but the ones above are the most disk-hogging ones.</p>
</div>
<div class="section" id="does-rally-spy-on-me">
<h2>Does Rally spy on me?<a class="headerlink" href="#does-rally-spy-on-me" title="Permalink to this headline">¶</a></h2>
<p>No. Rally does not collect or send any usage data and also the complete source code is open. We do value your feedback a lot though and if you got any ideas for improvements, found a bug or have any other feedback, head over to <a class="reference external" href="https://discuss.elastic.co/tags/c/elastic-stack/elasticsearch/rally">Rally’s Discuss forum</a> or <a class="reference external" href="https://github.com/elastic/rally">raise an issue on Github</a>.</p>
</div>
<div class="section" id="do-i-need-an-internet-connection">
<h2>Do I need an Internet connection?<a class="headerlink" href="#do-i-need-an-internet-connection" title="Permalink to this headline">¶</a></h2>
<p>You do NOT need Internet access on any node of your Elasticsearch cluster but the machine where you start Rally needs an Internet connection to download track data sets and Elasticsearch distributions. After it has downloaded all data, an Internet connection is not required anymore and you can specify <code class="docutils literal notranslate"><span class="pre">--offline</span></code>. If Rally detects no active Internet connection, it will automatically enable offline mode and warn you.</p>
<p>We have a dedicated documentation page for <a class="reference internal" href="offline.html"><span class="doc">running Rally offline</span></a> which should cover all necessary details.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="glossary.html" class="btn btn-neutral float-right" title="Glossary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="migrate.html" class="btn btn-neutral float-left" title="Migration Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Elasticsearch B.V.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>